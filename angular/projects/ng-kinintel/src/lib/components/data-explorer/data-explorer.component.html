<div class="configure-header">
    <ng-template [ngIf]="datasetInstance && datasetInstance.title">
        {{datasetInstance.title}}
    </ng-template>
    <ng-template [ngIf]="!datasetInstance || !datasetInstance.title">
        Data Explorer
    </ng-template>
    <button mat-icon-button mat-dialog-close>
        <mat-icon>close</mat-icon>
    </button>
</div>

<div class="configure-content">

    <rsz-layout class="row" [directions]="['none']" [rFlex]="false">

        <rsz-layout class="cell left" [directions]="showChart ? ['right'] : ['none']" [rFlex]="true"
            [ngStyle]="{'flex-basis': showChart ? '65%' : '100%'}">
            <div class="cell-contents">
                <ki-dataset-editor [(evaluatedDatasource)]="datasetInstance" [datasource]="datasource"
                                   (dataLoaded)="dataLoaded($event)"></ki-dataset-editor>
            </div>
        </rsz-layout>

        <rsz-layout *ngIf="showChart" class="cell right" [directions]="['none']" [rFlex]="false">

            <div class="cell-contents">
                <canvas baseChart style="height: 200px"
                        [datasets]="chartData"
                        [labels]="['December', 'January', 'February', 'March', 'April']"
                        [options]="{responsive: true}"
                        [colors]="[{borderColor: 'rgba(32,166,211,0.7)',backgroundColor: 'rgba(32,166,211,0.3)'}]"
                        [legend]="false"
                        [chartType]="'line'"
                        [plugins]="[]">
                </canvas>
            </div>



        </rsz-layout>
    </rsz-layout>

</div>

<div class="configure-footer">
    <button mat-stroked-button mat-dialog-close color="primary">
        Cancel
    </button>
    <div class="align-center">
        <button mat-stroked-button color="primary" style="margin-right: .5rem; background-color: white">
            Export Data
        </button>
        <button mat-flat-button color="primary" (click)="saveChanges()">
            Save Changes
        </button>
    </div>

</div>
