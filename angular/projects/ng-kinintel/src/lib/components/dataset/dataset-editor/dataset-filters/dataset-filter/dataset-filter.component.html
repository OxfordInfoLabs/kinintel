<ng-template [ngIf]="!joinFilterFields">
    <mat-select [(value)]="filter.fieldName" class="mr-4" name="fieldName">
        <mat-option value="">Column Name</mat-option>
        <mat-option *ngFor="let field of filterFields" [value]="field.name">{{field.title}}</mat-option>
    </mat-select>

    <mat-select [(ngModel)]="filter.filterType" class="mr-4" name="filterType">
        <mat-option value="">Condition</mat-option>
        <mat-option [value]="filterType.value" *ngFor="let filterType of filterTypes">
            {{filterType.label}}
        </mat-option>
    </mat-select>

    <input type="text" [(ngModel)]="filter.value" name="filterValue" placeholder="Value" class="mr-4 full">
</ng-template>


<ng-template [ngIf]="joinFilterFields">
    <mat-select [(value)]="filter.fieldName" class="mr-4" >
        <mat-option value="">{{joinFieldsName}} Column Name</mat-option>
        <mat-option *ngFor="let field of joinFilterFields" [value]="field.name">{{field.title}}</mat-option>
    </mat-select>

    <mat-select [(ngModel)]="filter.filterType" class="mr-4" name="filterType">
        <mat-option value="">Condition</mat-option>
        <mat-option [value]="filterType.value" *ngFor="let filterType of filterTypes">
            {{filterType.label}}
        </mat-option>
    </mat-select>

    <mat-select *ngIf="!customValue" [(value)]="filter.value" class="mr-4" >
        <mat-option value="">Column Name</mat-option>
        <mat-option *ngFor="let field of filterFields" [value]="'[['+field.name+']]'">{{field.title}}</mat-option>
    </mat-select>

    <input *ngIf="customValue" type="text" [(ngModel)]="filter.value"
           name="filterValue" placeholder="Custom value" class="mr-4 full">

    <p class="custom-checkbox">
        <mat-checkbox [(ngModel)]="customValue"></mat-checkbox>Custom value
    </p>

</ng-template>

<div>
    <button mat-icon-button color="warn" title="Remove filter" (click)="removeFilter()">
        <mat-icon>remove_circle_outline</mat-icon>
    </button>
</div>

