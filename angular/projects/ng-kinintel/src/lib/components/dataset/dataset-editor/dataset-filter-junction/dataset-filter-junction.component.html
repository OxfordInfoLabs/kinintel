<ng-template [ngIf]="filterJunction.filters.length">
    <div class="flex align-center justify-between">
        <mat-button-toggle-group [(ngModel)]="filterJunction.logic">
            <mat-button-toggle value="AND">All of the following apply</mat-button-toggle>
            <mat-button-toggle value="OR">Any of the following apply</mat-button-toggle>
        </mat-button-toggle-group>
        <div>
            <button mat-button color="primary" title="Add single filter" (click)="addFilter('single')">
                <mat-icon>add_circle</mat-icon> filter
            </button>
            <button mat-button color="primary" title="Add group filters" (click)="addFilter('group')"
                [disabled]="!filterJunction.filters.length">
                <mat-icon>playlist_add</mat-icon> filter group
            </button>
        </div>
    </div>
    <ng-template ngFor let-filter [ngForOf]="filterJunction.filters" let-i=index>
        <ki-dataset-filter [filter]="filter" [filterJunction]="filterJunction" [filterIndex]="i"
                           [filterFields]="filterFields"></ki-dataset-filter>
    </ng-template>
</ng-template>


<div class="group-filters" *ngFor="let junction of filterJunction.filterJunctions; let j = index">
    <ki-dataset-filter-junction [(filterJunction)]="filterJunction.filterJunctions[j]"
                                [filterFields]="filterFields"></ki-dataset-filter-junction>
</div>
