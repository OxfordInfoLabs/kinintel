<?php

namespace Kinintel\Test\Services\Util\Analysis\TextAnalysis;

use Kinikit\Core\Configuration\FileResolver;
use Kinikit\Core\DependencyInjection\Container;
use Kinintel\Services\Datasource\DatasourceService;
use Kinintel\Services\Util\Analysis\TextAnalysis\StopwordManager;
use Kinintel\ValueObjects\Util\Analysis\TextAnalysis\StopWord;

include_once "autoloader.php";

class StopwordManagerTest extends \PHPUnit\Framework\TestCase {

    private $stopwordManager;

    public function setUp(): void {
        $this->stopwordManager = new StopwordManager(Container::instance()->get(FileResolver::class), Container::instance()->get(DatasourceService::class));

        parent::setUp(); // TODO: Change the autogenerated stub
    }

    public function testCanGetTheListOfStopwordsFromConfigForEnglish() {
        $stopwords = $this->stopwordManager->expandStopwords(new StopWord(true), 'EN')->getList();

        $this->assertTrue(is_array($stopwords));
        $this->assertEquals("a", $stopwords[0]);
        $this->assertEquals("about", $stopwords[1]);
        $this->assertEquals("above", $stopwords[2]);
        $this->assertEquals("after", $stopwords[3]);
        $this->assertEquals("again", $stopwords[4]);
    }

}
